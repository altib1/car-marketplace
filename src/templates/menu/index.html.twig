<body class="bg-gray-100">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm fixed top-0 left-0 right-0 z-50" x-data="{ mobileMenuOpen: false }">
        <div class="container mx-auto">
            <div class="relative px-4 sm:px-6 lg:px-8 py-4">
                <div class="flex items-center justify-between">
                    <!-- Logo -->
                    <div class="flex-shrink-0">
                        <a href="{{ path('app_home') }}" class="flex items-center">
                            <div class="flex items-center">
                                <div class="p-2">
                                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="40px" height="40px" viewBox="0 0 489.000000 444.000000"  preserveAspectRatio="xMidYMid meet">  
                                        <g transform="translate(0.000000,444.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M2395 4161 c-49 -3 -97 -10 -105 -16 -8 -5 -35 -12 -60 -16 -82 -12 -165 -31 -195 -43 -54 -23 -99 -38 -135 -45 -19 -4 -44 -12 -55 -18 -18 -10 -50 -24 -115 -52 -183 -77 -480 -313 -624 -496 -22 -28 -45 -54 -51 -60 -16 -15 -100 -128 -108 -145 -4 -8 -16 -28 -27 -45 -21 -34 -60 -114 -60 -125 0 -4 -7 -13 -15 -20 -18 -15 -20 -60 -3 -60 6 0 19 6 27 13 9 8 52 22 96 31 112 24 118 27 161 93 52 76 69 96 194 220 95 95 316 273 338 273 5 0 28 14 50 30 23 17 47 30 53 30 10 0 47 18 89 41 16 9 19 11 85 36 22 8 54 21 70 28 47 21 97 37 140 45 22 4 54 13 70 18 89 31 179 42 356 42 178 0 276 -11 364 -42 17 -6 50 -13 75 -17 48 -8 106 -25 155 -46 17 -7 55 -21 85 -31 30 -10 62 -23 70 -29 8 -6 35 -20 60 -30 25 -10 52 -24 60 -30 8 -7 22 -15 30 -19 63 -29 214 -136 308 -219 105 -93 270 -274 293 -322 6 -11 16 -31 24 -45 13 -23 12 -26 -13 -47 -15 -12 -34 -22 -43 -23 -27 0 -104 -38 -123 -59 -18 -20 -18 -21 5 -31 13 -5 31 -14 39 -20 8 -5 44 -27 79 -47 35 -21 75 -46 90 -56 14 -9 34 -20 44 -23 9 -4 17 -10 17 -14 0 -5 20 -19 45 -31 25 -12 45 -26 45 -30 0 -4 24 -19 53 -34 28 -14 72 -37 97 -51 l44 -25 18 23 c10 13 21 34 24 48 3 14 12 45 20 69 8 25 14 55 14 68 0 14 6 34 12 46 11 20 25 88 44 217 4 25 13 54 19 65 18 28 29 115 15 115 -10 0 -19 -4 -78 -33 -19 -9 -43 -17 -55 -17 -12 0 -31 -7 -41 -15 -34 -25 -51 -17 -98 48 -130 176 -329 388 -449 477 -29 23 -55 45 -57 50 -2 6 -8 10 -14 10 -6 0 -27 13 -47 29 -20 16 -52 37 -71 48 -19 10 -54 31 -77 46 -24 15 -48 27 -54 27 -7 0 -34 14 -61 30 -26 17 -57 30 -68 30 -10 0 -21 4 -24 9 -10 15 -130 66 -186 79 -13 3 -31 11 -38 19 -7 7 -26 13 -41 13 -15 0 -50 7 -77 15 -27 8 -61 15 -75 15 -15 0 -42 6 -60 14 -39 16 -425 28 -574 17z"/> <path d="M1525 3058 c-49 -5 -111 -15 -136 -23 -26 -8 -59 -15 -74 -15 -45 0 -198 -31 -228 -46 -16 -8 -36 -14 -44 -14 -17 0 -110 -29 -133 -41 -20 -11 -91 -45 -110 -53 -8 -3 -28 -15 -45 -26 -16 -11 -37 -23 -45 -27 -20 -9 -201 -144 -265 -198 -27 -23 -66 -50 -85 -60 -19 -10 -42 -22 -50 -26 -16 -10 -23 -13 -88 -38 -35 -13 -47 -24 -62 -60 -11 -24 -20 -51 -20 -60 0 -9 -5 -22 -11 -28 -15 -15 -48 -222 -49 -302 0 -76 26 -243 45 -286 8 -16 22 -52 33 -78 33 -83 153 -210 181 -192 7 4 11 47 11 107 0 116 18 192 66 283 27 50 39 63 77 79 30 13 54 16 73 12 33 -9 114 -90 114 -115 0 -9 7 -29 15 -45 8 -15 15 -36 15 -45 0 -9 7 -25 15 -35 8 -11 15 -29 15 -41 0 -11 6 -45 14 -75 14 -55 12 -85 -6 -74 -6 4 -7 20 -4 36 5 24 2 31 -14 35 -14 4 -20 14 -20 33 0 15 -7 33 -15 40 -8 7 -15 23 -15 36 0 12 -6 29 -13 36 -7 7 -16 20 -20 28 -33 67 -67 100 -111 107 -32 5 -41 2 -65 -23 -30 -32 -61 -101 -61 -138 0 -13 -7 -37 -15 -52 -21 -40 -21 -222 0 -250 8 -10 15 -26 15 -35 1 -64 93 -171 176 -209 90 -39 247 -18 330 45 18 14 36 25 40 25 5 0 29 23 54 50 50 55 51 55 155 41 39 -5 113 -14 165 -21 52 -6 113 -16 135 -21 22 -6 81 -14 130 -20 50 -5 113 -13 140 -18 28 -6 95 -10 151 -10 56 -1 129 -4 164 -8 l62 -6 22 -46 c41 -88 120 -151 236 -187 66 -20 195 -27 270 -14 36 6 79 13 97 17 18 3 38 11 44 19 6 8 17 14 23 14 6 0 33 20 60 45 l49 45 226 0 c158 1 246 5 291 15 88 19 343 20 362 1 21 -20 55 -29 123 -30 54 -1 60 -3 63 -24 2 -13 -3 -25 -12 -28 -9 -3 -16 -11 -16 -18 0 -30 -275 -276 -308 -276 -6 0 -15 -6 -19 -13 -4 -7 -26 -21 -48 -32 -22 -11 -44 -25 -50 -31 -5 -6 -30 -19 -55 -29 -25 -10 -52 -25 -61 -32 -8 -7 -20 -13 -26 -13 -6 0 -24 -6 -40 -14 -15 -7 -44 -20 -63 -28 -19 -9 -48 -21 -65 -29 -16 -7 -55 -19 -85 -26 -103 -25 -125 -31 -155 -42 -59 -20 -333 -44 -433 -37 -137 9 -322 32 -357 44 -81 28 -132 42 -153 42 -13 0 -36 6 -50 14 -15 8 -47 22 -72 31 -104 40 -126 49 -141 62 -8 7 -21 13 -27 13 -7 0 -31 12 -55 27 -23 15 -58 36 -77 47 -71 38 -159 114 -310 266 -156 156 -200 205 -200 220 0 25 -52 20 -100 -9 -8 -5 -37 -20 -63 -33 -75 -36 -82 -48 -56 -92 11 -20 25 -36 30 -36 5 0 9 -5 9 -12 0 -6 7 -18 15 -27 8 -9 31 -36 51 -61 98 -123 338 -342 457 -417 23 -14 46 -32 50 -39 4 -8 14 -14 22 -14 8 0 31 -12 52 -26 49 -33 209 -110 248 -120 17 -4 37 -12 45 -19 8 -7 26 -15 40 -18 52 -12 116 -30 150 -42 58 -21 136 -37 228 -46 48 -4 107 -13 132 -18 72 -16 356 -13 420 4 30 8 72 15 94 15 49 0 173 28 208 46 14 8 35 14 46 14 21 0 129 33 158 48 11 6 39 18 64 27 25 9 52 21 60 26 8 5 35 20 60 32 25 13 64 35 87 50 24 15 45 27 49 27 3 0 23 13 44 30 21 16 41 30 45 30 3 0 34 21 68 47 155 118 396 363 452 461 11 17 23 32 27 32 5 0 13 11 18 25 5 14 21 30 34 35 13 5 27 14 31 19 3 6 17 11 30 11 15 0 34 14 55 39 41 52 89 81 136 82 22 0 59 10 84 22 38 19 46 27 48 54 2 17 -4 46 -13 62 -11 23 -13 36 -5 50 5 11 10 67 10 124 0 113 -9 142 -54 178 -31 24 -33 61 -11 154 26 105 13 178 -38 230 -9 9 -22 24 -29 33 -21 27 -95 82 -141 103 -23 11 -49 23 -57 28 -34 19 -92 41 -109 41 -10 0 -24 7 -31 15 -7 8 -23 15 -36 15 -12 0 -25 4 -28 9 -4 5 -25 12 -49 16 -23 3 -55 12 -72 19 -53 23 -99 38 -145 46 -63 12 -129 30 -168 46 -18 8 -52 14 -75 14 -23 0 -73 7 -112 15 -38 8 -83 15 -100 15 -74 1 -137 34 -320 165 -49 36 -97 68 -105 72 -8 4 -17 9 -20 12 -9 10 -69 51 -75 51 -4 0 -21 11 -38 23 -38 28 -113 67 -129 67 -6 0 -19 6 -27 13 -9 8 -45 22 -81 31 -36 10 -81 24 -100 31 -19 7 -98 18 -175 24 -159 13 -734 12 -870 -1z m91 -177 c50 -10 99 -23 110 -29 10 -6 42 -21 69 -33 73 -33 223 -128 345 -218 88 -65 101 -74 155 -99 103 -50 124 -52 430 -52 160 -1 310 -5 335 -10 25 -5 106 -12 180 -15 74 -4 168 -13 209 -21 40 -8 89 -14 108 -14 20 0 56 -7 82 -14 25 -8 75 -20 111 -26 103 -17 124 -22 138 -33 7 -5 31 -14 55 -18 78 -17 137 -35 149 -47 7 -7 23 -12 37 -12 15 -1 37 -7 51 -15 14 -8 35 -14 48 -15 12 0 22 -4 22 -10 0 -5 12 -13 28 -16 15 -4 36 -13 47 -20 11 -8 29 -14 42 -14 12 0 25 -4 28 -10 3 -5 30 -21 58 -35 58 -28 87 -48 87 -60 0 -15 -33 -45 -48 -45 -9 0 -23 -6 -31 -13 -9 -8 -38 -22 -66 -32 -44 -17 -77 -18 -284 -16 -129 1 -237 3 -240 5 -3 2 -85 9 -181 16 -96 6 -181 17 -188 23 -7 5 -32 14 -55 18 -23 4 -60 12 -82 18 -45 12 -322 17 -333 6 -4 -4 2 -12 12 -19 20 -11 25 -17 97 -101 23 -27 56 -56 73 -64 21 -9 97 -16 246 -20 128 -5 226 -12 243 -19 16 -7 44 -12 63 -12 24 0 34 -5 34 -15 0 -11 -11 -15 -42 -15 -24 0 -70 -7 -103 -15 -83 -20 -365 -20 -420 0 -22 8 -56 14 -76 15 -42 0 -137 28 -159 46 -8 6 -25 15 -36 18 -21 7 -124 99 -124 112 0 7 -94 124 -112 140 -7 5 -20 13 -28 17 -8 4 -22 11 -30 16 -59 35 -144 59 -255 71 -44 4 -100 13 -125 19 -25 6 -97 11 -160 11 -63 1 -187 5 -275 10 -88 5 -216 12 -285 15 -69 4 -138 11 -155 17 -16 5 -77 14 -135 18 -138 11 -268 29 -305 42 -16 6 -50 14 -75 18 -100 17 -167 33 -195 45 -16 8 -38 16 -48 19 -10 3 -17 11 -15 18 8 24 813 8 878 -17 16 -5 45 19 82 68 l21 29 131 -7 c78 -4 143 -13 160 -21 37 -18 66 -18 66 0 0 19 -63 90 -147 167 -45 41 -133 95 -203 123 -8 3 -22 10 -30 15 -8 5 -39 16 -69 25 -63 19 -312 22 -376 5 -22 -6 -56 -13 -75 -16 -19 -3 -39 -9 -45 -13 -5 -5 -39 -18 -75 -30 -36 -12 -72 -28 -81 -36 -8 -8 -23 -14 -31 -14 -9 0 -21 -7 -28 -15 -7 -8 -21 -15 -31 -15 -11 0 -19 -5 -19 -11 0 -13 -40 -48 -55 -49 -6 0 -18 -9 -28 -20 -9 -11 -21 -20 -27 -20 -5 0 -10 9 -10 20 0 11 7 20 15 20 18 0 36 13 78 58 17 17 35 32 40 32 5 0 21 11 35 25 59 54 237 137 332 155 25 5 56 13 70 19 44 18 295 13 396 -8z m885 -1017 c8 -8 20 -14 25 -14 29 0 134 -136 134 -173 0 -7 5 -18 12 -25 16 -16 47 -164 48 -230 0 -60 -25 -161 -44 -177 -7 -5 -18 -19 -25 -30 -11 -18 -12 -17 -6 10 18 78 17 221 -1 295 -10 41 -23 82 -30 90 -6 8 -15 25 -18 37 -13 40 -94 111 -137 118 -51 9 -135 -3 -150 -21 -6 -8 -17 -14 -24 -14 -19 0 -105 -88 -105 -108 0 -8 -6 -23 -14 -31 -19 -22 -46 -105 -46 -142 0 -20 -4 -29 -12 -26 -18 5 -15 188 3 247 22 69 76 137 140 175 32 18 68 36 81 38 40 8 152 -5 169 -19z m2060 -354 c31 -17 24 -47 -13 -54 -91 -19 -180 -25 -356 -25 -148 -1 -201 -4 -229 -16 -19 -8 -48 -15 -63 -15 -15 0 -47 -7 -70 -15 -35 -12 -106 -15 -381 -15 -295 0 -339 2 -339 15 0 13 40 15 301 15 238 0 307 3 327 14 15 8 72 22 127 32 55 9 111 23 125 29 33 16 200 35 325 38 55 2 128 4 163 5 35 1 72 -3 83 -8z"/> </g> 
                                    </svg> 
                                </div>
                                <div>
                                    <span class="text-2xl lg:text-3xl font-extrabold tracking-tight">
                                        <span class="bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent">Auto</span><span class="text-gray-800">Market</span><span class="text-blue-600">360</span>
                                    </span>
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Desktop Navigation -->
                    <div class="hidden lg:flex lg:items-center lg:space-x-8">
                        <!-- Vehicles Dropdown -->
                        <div class="relative" x-data="{ open: false }" @mouseenter="open = true" @mouseleave="open = false">
                            <button class="group inline-flex items-center px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors">
                                <span>{{ 'menu.vehicles.title'|trans }}</span>
                                <svg class="ml-2 h-4 w-4 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div x-show="open" 
                                 x-transition:enter="transition ease-out duration-200"
                                 x-transition:enter-start="opacity-0 translate-y-1"
                                 x-transition:enter-end="opacity-100 translate-y-0"
                                 x-transition:leave="transition ease-in duration-150"
                                 x-transition:leave-start="opacity-100 translate-y-0"
                                 x-transition:leave-end="opacity-0 translate-y-1"
                                 class="absolute left-0 mt-2 w-72 rounded-xl bg-white p-2 shadow-xl ring-1 ring-black ring-opacity-5"
                                 style="display: none;">
                                <a href="{{ path('app_cars', {'condition': 'new'}) }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                    <span class="ml-3">{{ 'menu.vehicles.new'|trans }}</span>
                                </a>
                                <a href="{{ path('app_cars', {'condition': 'used'}) }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                    <span class="ml-3">{{ 'menu.vehicles.used'|trans }}</span>
                                </a>
                                <a href="{{ path('app_cars', {'fuel_type': 'electric'}) }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                    <span class="ml-3">{{ 'menu.vehicles.electric'|trans }}</span>
                                </a>
                            </div>
                        </div>

                        <!-- Announcements Dropdown -->
                        <div class="relative" x-data="{ open: false }" @mouseenter="open = true" @mouseleave="open = false">
                            <button class="group inline-flex items-center px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors">
                                <span>{{ 'menu.announcements.title'|trans }}</span>
                                <svg class="ml-2 h-4 w-4 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div x-show="open"
                                 x-transition:enter="transition ease-out duration-200"
                                 x-transition:enter-start="opacity-0 translate-y-1"
                                 x-transition:enter-end="opacity-100 translate-y-0"
                                 x-transition:leave="transition ease-in duration-150"
                                 x-transition:leave-start="opacity-100 translate-y-0"
                                 x-transition:leave-end="opacity-0 translate-y-1"
                                 class="absolute left-0 mt-2 w-72 rounded-xl bg-white p-2 shadow-xl ring-1 ring-black ring-opacity-5"
                                 style="display: none;">
                                <a href="{{ path('app_publication_new') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                    <span class="ml-3">{{ 'menu.announcements.post'|trans }}</span>
                                </a>
                                <a href="{{ path('app_publication_index') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                    <span class="ml-3">{{ 'menu.announcements.my_listings'|trans }}</span>
                                </a>
                                <a href="{{ path('app_cars') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                    <span class="ml-3">{{ 'menu.announcements.advanced_search'|trans }}</span>
                                </a>
                            </div>
                        </div>

                        <a href="{{ path('app_about') }}" class="px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors">{{ 'menu.services'|trans }}</a>
                    </div>
                    {% if app.user %}
                    <div class="relative hidden lg:block" x-data="{ open: false }" @mouseenter="open = true" @mouseleave="open = false">
                        <button class="group inline-flex items-center px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors">
                            <svg class="h-6 w-6 text-gray-600 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            <span class="ml-2">{{ app.user.name }}</span>
                            <svg class="ml-2 h-4 w-4 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div x-show="open"
                             x-transition:enter="transition ease-out duration-200"
                             x-transition:enter-start="opacity-0 translate-y-1"
                             x-transition:enter-end="opacity-100 translate-y-0"
                             x-transition:leave="transition ease-in duration-150"
                             x-transition:leave-start="opacity-100 translate-y-0"
                             x-transition:leave-end="opacity-0 translate-y-1"
                             class="absolute right-0 mt-2 w-48 rounded-xl bg-white p-2 shadow-xl ring-1 ring-black ring-opacity-5"
                             style="display: none;">
                            <a href="{{ path('app_publication_new') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                <span class="ml-3">{{ 'menu.auth.post_listing'|trans }}</span>
                            </a>
                            <a href="{{ path('app_publication_index') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                <span class="ml-3">{{ 'menu.announcements.my_listings'|trans }}</span>
                            </a>
                            <a href="{{ path('app_chat_inbox') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                <span class="ml-3">{{ 'menu.user.messages'|trans }}</span>
                            </a>
                            <a href="{{ path('app_profile') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                <span class="ml-3">{{ 'menu.user.profile'|trans }}</span>
                            </a>
                            <a href="{{ path('app_wishlist') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                <span class="ml-3">{{ 'menu.user.wishlist'|trans }}</span>
                            </a>
                            <a href="{{ path('app_logout') }}" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                                <span class="ml-3">{{ 'menu.user.logout'|trans }}</span>
                            </a>
                        </div>
                    </div>
                    {% endif %}

                    <div class="hidden lg:block">
                        <!-- Language Switcher -->
                        {% include 'components/_language_switch.html.twig' %}
                    </div>
                    
                    <!-- Desktop CTA Buttons -->
                    <div class="hidden lg:flex lg:items-center lg:space-x-6">
                        {% if not app.user %}
                        <a href="{{ path('app_login') }}" class="text-gray-700 hover:text-blue-600 transition-colors">
                            {{ 'menu.auth.login'|trans }}
                        </a>
                        {% endif %}
                        <a href="{{ path('app_publication_new') }}" class="inline-flex items-center justify-center px-6 py-2.5 border border-transparent text-sm font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors">
                            {{ 'menu.auth.post_listing'|trans }}
                        </a>
                    </div>

                    <!-- Mobile menu button -->
                    <div class="flex lg:hidden">
                        <button type="button" @click="mobileMenuOpen = true" class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-colors">
                            <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div x-show="mobileMenuOpen" 
             class="fixed inset-0 bg-white z-50 lg:hidden"
             x-transition:enter="transition-opacity ease-linear duration-300"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="transition-opacity ease-linear duration-300"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0">
            
            <!-- Mobile menu header -->
            <div class="flex items-center justify-between p-4 border-b">
                <a href="{{ path('app_home') }}" class="flex items-center">
                    <span class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent">
                        {{ 'menu.brand'|trans }}
                    </span>
                </a>
                <button @click="mobileMenuOpen = false" class="p-2">
                    <svg class="h-8 w-8 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Mobile menu content -->
            <div class="overflow-y-auto h-full">
                <div class="px-4 py-6 space-y-6">
                    <!-- Vehicles Section -->
                    <div x-data="{ open: false }" class="border-b pb-4">
                        <button @click="open = !open" class="w-full flex items-center justify-between text-xl font-medium">
                            <span>{{ 'menu.vehicles.title'|trans }}</span>
                            <svg class="h-6 w-6 transform" :class="{ 'rotate-180': open }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div x-show="open" class="mt-4 space-y-4">
                            <a href="{{ path('app_cars', {'condition': 'new'}) }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.vehicles.new'|trans }}</a>
                            <a href="{{ path('app_cars', {'condition': 'used'}) }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.vehicles.used'|trans }}</a>
                            <a href="{{ path('app_cars', {'fuel_type': 'electric'}) }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.vehicles.electric'|trans }}</a>
                        </div>
                    </div>

                    <!-- Announcements Section -->
                    <div x-data="{ open: false }" class="border-b pb-4">
                        <button @click="open = !open" class="w-full flex items-center justify-between text-xl font-medium">
                            <span>{{ 'menu.announcements.title'|trans }}</span>
                            <svg class="h-6 w-6 transform" :class="{ 'rotate-180': open }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div x-show="open" class="mt-4 space-y-4">
                            <a href="{{ path('app_publication_new') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.announcements.post'|trans }}</a>
                            <a href="{{ path('app_publication_index') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.announcements.my_listings'|trans }}</a>
                            <a href="{{ path('app_cars') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.announcements.advanced_search'|trans }}</a>
                        </div>
                    </div>

                    <!-- Services -->
                    <a href="{{ path('app_about') }}" class="block text-xl font-medium py-4 border-b">{{ 'menu.services'|trans }}</a>

                    <!-- User Section -->
                    {% if app.user %}
                    <div class="border-b pb-4 space-y-4">
                        <a href="{{ path('app_publication_new') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.auth.post_listing'|trans }}</a>
                        <a href="{{ path('app_publication_index') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.announcements.my_listings'|trans }}</a>
                        <a href="{{ path('app_chat_inbox') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.user.messages'|trans }}</a>
                        <a href="{{ path('app_profile') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.user.profile'|trans }}</a>
                        <a href="{{ path('app_wishlist') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.user.wishlist'|trans }}</a>
                        <a href="{{ path('app_logout') }}" class="block px-4 py-3 text-lg text-gray-700">{{ 'menu.user.logout'|trans }}</a>
                    </div>
                    {% else %}
                    <div class="space-y-4 mt-6">
                        <a href="{{ path('app_login') }}" class="block w-full text-center px-6 py-3 text-lg font-medium rounded-full border border-gray-300 text-gray-700">
                            {{ 'menu.auth.login'|trans }}
                        </a>
                        <a href="{{ path('app_publication_new') }}" class="block w-full text-center px-6 py-3 text-lg font-medium rounded-full bg-blue-600 text-white">
                            {{ 'menu.auth.post_listing'|trans }}
                        </a>
                    </div>
                    {% endif %}

                    <!-- Language Switcher -->
                    <div class="mt-6">
                        {% include 'components/_language_switch.html.twig' %}
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Include Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</body>
